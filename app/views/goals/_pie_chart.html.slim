<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
javascript:
  google.charts.load("current", {packages:["corechart"]});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Goal', 'Status'],
      ["Not started",     #{goals.where(status: 0).count}],
      ["On track",     #{goals.where(status: 1).count}],
      ['Off track',     #{goals.where(status: 2).count}],
      ['Major Delay',     #{goals.where(status: 3).count}],
      ['Delivered',     #{goals.where(status: 4).count}]
    ]);

    var options = {
      title: 'Goals by status',
      pieHole: 0.4, colors: ['#6F777B','#006435','#FFBF47','#B10E1E','#005EA5']
    };

    var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
    chart.draw(data, options);
  }
</script>

/ uncomment when ready to show pie
#donutchart style="width: 450px; height: 250px"
